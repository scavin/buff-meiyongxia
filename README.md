# 程序员延寿计算器

🧬 基于科学研究的生命值优化工具，采用超简洁URL编码方案。

![](https://raw.githubusercontent.com/scavin/buff-meiyongxia/refs/heads/main/demo.webp)

官网：https://buff.meiyongxia.com  
项目地址：https://github.com/scavin/buff-meiyongxia

## 功能特点

- 基于顶级期刊论文的健康优化建议([程序员延寿指南](https://github.com/geekan/HowToLiveLonger))
- 支持数据分享和二维码生成
- 超简洁URL编码，大幅减少链接长度
- 纯前端实现，无需后端服务

## 新功能：超简洁URL编码

### 编码优势
- 🎯 **极致简洁**: 定长编码，最多16字符
- 📱 **易于分享**: 常见情况只需8字符
- 🔤 **位置映射**: 17个参数按固定位置排列
- 🗜️ **自动压缩**: 自动去除末尾零值

### 编码方案
每个健康参数用固定位置的数字表示等级，按字母顺序排列：

```
位置: 1  2  3  4  5  6  7  8  9  10 11 12 13 14 15 16 17
参数: a  b  c  d  e  f  g  h  i  j  k  l  m  n  o  p  q
名称: 白肉 蔬果 坚果 辛辣 避免 咖啡 茶 牛奶 戒酒 挥拍 剧烈 步行 睡眠 刷牙 晒太阳 戒烟 体重
```

### 示例对比
- **Base64编码**: `eyJ3aGl0ZS1tZWF0Ijo1LCJ2ZWdldGFibGVzLWZydWl0cyI6MywibnV0cyI6NSwiY29mZmVlIjoyLCJuby1hbGNvaG9sIjoxfQ` (88字符)
- **定长编码**: `53502010` (8字符)
- **压缩率**: 91%

### 分享方式
1. **生成图片分享** - 下载包含个人链接的精美健康报告图片
2. **生成分享二维码** - 创建二维码供扫描分享
3. **复制分享链接** - 直接复制超简洁的分享URL
4. **复制分享文案** - 复制包含数据和链接的完整文案

## 部署说明

### 静态部署
```bash
# 直接部署到任何静态托管服务
cp index.html config.js /var/www/html/
```

### 性能优化

#### Gzip压缩效果
- **原始大小**: 102KB
- **Gzip后**: 18KB  
- **压缩率**: 82%

#### 自动启用压缩
项目包含多种平台的配置文件：

- **Apache**: `.htaccess` - 自动启用gzip和缓存
- **Nginx**: `nginx.conf` - 完整的服务器配置
- **Vercel**: `vercel.json` - 头部和重定向配置
- **Netlify**: `netlify.toml` - 压缩和缓存策略

#### 手动压缩HTML
```bash
# 运行压缩脚本（可选）
./compress.sh
```

### 支持的平台
- ✅ GitHub Pages
- ✅ Netlify  
- ✅ Vercel
- ✅ 任何静态托管服务
- ✅ 自建nginx/Apache服务器

## 技术实现

### 核心特性
- **纯前端实现**: 无需后端数据库，保护用户隐私
- **定长编码**: 每个参数固定位置，最大化压缩效果
- **位置映射**: 17个参数按字母顺序映射到固定位置
- **智能压缩**: 自动去除末尾零值

### 编码规则
1. 定长编码：每个位置固定对应一个参数
2. 只保存非零值，末尾的0会被自动去除
3. 格式：数字串（如53502010表示前8个参数分别为5,3,5,0,2,0,1,0等级）
4. 无设置时返回单个字符'0'

## 使用示例

### 健康设置示例
- 白肉摄入：经常 (位置1=5)
- 蔬果摄入：较多 (位置2=3)  
- 坚果摄入：每周5-6次 (位置3=5)
- 辛辣食物：不吃 (位置4=0)
- 避免超加工：很少吃 (位置5=2)
- 咖啡：每天1杯 (位置6=1)
- 其他参数：默认值0

### 生成的URL
`https://buff.meiyongxia.com?s=5350201`

## 优势总结

1. **极简设计**: 定长编码，最多16字符
2. **高效传播**: 短链接更易分享和记忆  
3. **无需API**: 纯前端实现，无外部依赖
4. **开源透明**: 所有代码公开，算法可验证
5. **智能压缩**: 自动去除末尾零值，最大化效率

---

让代码像生命一样优雅！
